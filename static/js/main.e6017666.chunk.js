(this["webpackJsonpgosling-react-template"]=this["webpackJsonpgosling-react-template"]||[]).push([[0],{195:function(e,t){},199:function(e,t){},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a.n(n),i=a(83),l=a.n(i),o=a(99),c=a(14),s=a(36);var m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{spec:{tracks:[{id:"heatmap-track",data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",type:"multivec",row:"sample",column:"position",value:"peak",categories:["sample 1","sample 2","sample 3","sample 4"],binSize:4},mark:"rect",x:{field:"start",type:"genomic"},xe:{field:"end",type:"genomic"},row:{field:"sample",type:"nominal",legend:!0},color:{field:"peak",type:"quantitative",legend:!0,range:"pink"},width:600,height:130}]},experimental:{reactive:!0}}))},d=a(5),p=a(272),u={layout:"linear",arrangement:"vertical",centerRadius:.8,xDomain:{chromosome:"1"},style:{select:{color:"black",stroke:"black",strokeWidth:6,arrange:"behind",opacity:.1}},views:[{tracks:[{title:"ALT + Mouse Drag For Range Selection",id:"scatterplot-track",experimental:{mouseEvents:!0},data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",type:"multivec",row:"sample",column:"position",value:"peak",categories:["sample 1","sample 2","sample 3","sample 4"],binSize:4},mark:"point",x:{field:"position",type:"genomic"},y:{field:"peak",type:"quantitative"},size:{field:"peak",type:"quantitative"},color:{field:"sample",type:"nominal",legend:!0},width:600,height:200}]}]},g={width:450,height:400,mark:"bar",encoding:{x:{field:"peak",type:"ordinal",bin:!0},y:{field:"peak",type:"quantitative",aggregate:"count"},color:{field:"sample",type:"nominal",scale:{domain:["sample 1","sample 2","sample 3","sample 4"],range:["#E79F00","#029F73","#0072B2","#CB7AA7"]}}},data:{name:"table"}};var f=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([]),a=Object(d.a)(t,2),i=a[0],l=a[1];return Object(n.useEffect)((function(){if(e.current)return e.current.api.subscribe("rangeSelect",(function(e,t){return l(t.data)})),function(){return e.current.api.unsubscribe("rangeSelect")}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{ref:e,spec:u,experimental:{reactive:!0}}),r.a.createElement("div",{style:{marginLeft:80}},r.a.createElement(p.a,{spec:g,data:{table:i}})))},v=["point","bar","line","area"],h=["linear","circular"],y=function(e,t,a){return{layout:t,arrangement:"vertical",centerRadius:.4,xDomain:{chromosome:"1"},style:{select:{color:"black",stroke:"black",strokeWidth:6,arrange:"behind",opacity:.1}},views:[{tracks:[{id:"widget-track",data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",type:"multivec",row:"sample",column:"position",value:"peak",categories:Array.from(Array(6)).map((function(e,t){return"sample ".concat(t)})),binSize:0===a?1:a},mark:e,x:{field:"start",type:"genomic"},xe:{field:"end",type:"genomic"},row:{field:"sample",type:"nominal",legend:!1},y:{field:"peak",type:"quantitative",axis:"none"},color:{field:"sample",type:"nominal",legend:!0},tooltip:[{field:"start",type:"genomic",alt:"Start Position"},{field:"end",type:"genomic",alt:"End Position"},{field:"peak",type:"quantitative",alt:"Value",format:".2"},{field:"sample",type:"nominal",alt:"Sample"}],width:600,height:230}]}]}};var b=function(){var e=Object(n.useRef)(null),t=Object(n.useState)("point"),a=Object(d.a)(t,2),i=a[0],l=a[1],o=Object(n.useState)("linear"),c=Object(d.a)(o,2),m=c[0],p=c[1],u=Object(n.useState)(8),g=Object(d.a)(u,2),f=g[0],b=g[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},"Bin Size: ",r.a.createElement("input",{type:"range",min:0,max:32,step:4,value:f,className:"slider",id:"bin-slider",style:{width:100,display:"inline",margin:10},onChange:function(e){return b(+e.currentTarget.value)}}),0===f?1:f)),r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},"Mark: ",r.a.createElement("select",{name:"mark",onChange:function(e){return l(e.currentTarget.value)}},v.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},"Layout: ",r.a.createElement("select",{name:"layout",onChange:function(e){return p(e.currentTarget.value)}},h.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement(s.a,{ref:e,spec:y(i,m,f),experimental:{reactive:!0}}))},k=["chr1","chr2","chr3","chr4","chr5","chr6","chr7","chr8","chr9","chr10","chr11","chr12","chr13","chr14","chr15","chr16","chr17","chr18","chr19","chr20","chr21","chr22","chrX","chrY"];var E=function(){var e=Object(n.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},"Zoom To Chromosome: ",r.a.createElement("select",{name:"Chromosome",onChange:function(t){var a;return null===(a=e.current)||void 0===a?void 0:a.api.zoomTo("navigation-track-id",t.currentTarget.value,0,1e3)}},k.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},"Zoom To Gene: ",r.a.createElement("button",{className:"mr-3 p-1 rounded bg-slate-200",onClick:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.api.zoomToGene("navigation-track-id","MYC",3e3,1e3)}},"MYC"),r.a.createElement("button",{className:"mr-3 p-1 rounded bg-slate-200",onClick:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.api.zoomToGene("navigation-track-id","CCNK",3e3,1e3)}},"CCNK")),r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},r.a.createElement("button",{className:"mr-3 p-1 rounded bg-slate-200",onClick:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.api.zoomToExtent("navigation-track-id",1e3)}},"Zoom To Extent")),r.a.createElement(s.a,{ref:e,spec:{style:{outlineWidth:0},xDomain:{chromosome:"chr1"},spacing:0,tracks:[{id:"navigation-track-id",template:"gene",data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=gene-annotation",type:"beddb",genomicFields:[{index:1,name:"start"},{index:2,name:"end"}],valueFields:[{index:5,name:"strand",type:"nominal"},{index:3,name:"name",type:"nominal"}],exonIntervalFields:[{index:12,name:"start"},{index:13,name:"end"}]},encoding:{startPosition:{field:"start",axis:"none"},endPosition:{field:"end"},strandColor:{field:"strand",range:["gray"]},strandRow:{field:"strand"},opacity:{value:.4},geneHeight:{value:15},geneLabel:{field:"name"},geneLabelFontSize:{value:30},geneLabelColor:{field:"strand",range:["gray"]},geneLabelStroke:{value:"white"},geneLabelStrokeThickness:{value:4},geneLabelOpacity:{value:1},type:{field:"type"}},width:1e3,height:40},{data:{url:"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec",type:"multivec",row:"sample",column:"position",value:"peak",categories:["sample 1","sample 2","sample 3","sample 4"]},mark:"area",x:{field:"position",type:"genomic"},y:{field:"peak",type:"quantitative",axis:"none"},color:{field:"sample",type:"nominal"},width:1e3,height:30},{alignment:"overlay",data:{url:"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/cytogenetic_band.csv",type:"csv",chromosomeField:"Chr.",genomicFields:["ISCN_start","ISCN_stop","Basepair_start","Basepair_stop"]},tracks:[{mark:"text",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen-1","acen-2"],not:!0}],text:{field:"Band",type:"nominal"},color:{value:"black"},strokeWidth:{value:0},visibility:[{operation:"less-than",measure:"width",threshold:"|xe-x|",transitionPadding:10,target:"mark"}]},{mark:"rect",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen-1","acen-2"],not:!0}],color:{field:"Density",type:"nominal",domain:["","25","50","75","100"],range:["white","#D9D9D9","#979797","#636363","black"]}},{mark:"rect",dataTransform:[{type:"filter",field:"Stain",oneOf:["gvar"]}],color:{value:"#A0A0F2"}},{mark:"triangleRight",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen-1"]}],color:{value:"#B40101"}},{mark:"triangleLeft",dataTransform:[{type:"filter",field:"Stain",oneOf:["acen-2"]}],color:{value:"#B40101"}}],x:{field:"Basepair_start",type:"genomic",axis:"bottom"},xe:{field:"Basepair_stop",type:"genomic"},stroke:{value:"gray"},strokeWidth:{value:1},width:1e3,height:20}]},experimental:{reactive:!0}}))};var x=function(){var e=Object(n.useRef)(),t=Object(n.useState)(),a=Object(d.a)(t,2),i=a[0],l=a[1],o=Object(n.useState)([]),c=Object(d.a)(o,2),m=c[0],p=c[1];return Object(n.useEffect)((function(){if(e.current)return e.current.api.subscribe("click",(function(e,t){var a=t.genomicPosition;l("".concat(a.chromosome,":").concat(a.position)),p(t.data)})),e.current.api.subscribe("rangeSelect",(function(e,t){if(t&&t.genomicRange){var a=t.genomicRange;2===a.length&&l("".concat(a[0].chromosome,":").concat(a[0].position,"-").concat(a[1].chromosome,":").concat(a[1].position)),p(t.data.length>10?t.data.slice(0,10):t.data)}else l("N/A"),p([])})),function(){e.current.api.unsubscribe("click"),e.current.api.unsubscribe("rangeSelect")}}),[e]),r.a.createElement("div",null,r.a.createElement("div",{style:{marginTop:30,marginLeft:80}},"Selected Position: ",i||"N/A"),r.a.createElement(s.a,{ref:e,spec:{style:{outlineWidth:0,select:{color:"grey"},mouseOver:{stroke:"black",strokeWidth:1}},xDomain:{chromosome:"1",interval:[136750,139450]},spacing:0,tracks:[{title:"Click or mouse drag w/ ALT",experimental:{mouseEvents:!0},data:{type:"bam",url:"https://somatic-browser-test.s3.amazonaws.com/SRR7890905_GAPFI2USVS21.bam",indexUrl:"https://somatic-browser-test.s3.amazonaws.com/SRR7890905_GAPFI2USVS21.bam.bai"},mark:"rect",dataTransform:[{type:"displace",method:"pile",boundingBox:{startField:"start",endField:"end",padding:5,isPaddingBP:!0},newField:"pileup-row"}],x:{field:"start",type:"genomic"},xe:{field:"end",type:"genomic"},color:{value:"lightgrey"},tooltip:[{field:"start",type:"genomic"},{field:"end",type:"genomic"},{field:"strand",type:"nominal"}],row:{field:"pileup-row",type:"nominal",padding:.2},width:500,height:400}]},experimental:{reactive:!0}}),0===m.length?null:r.a.createElement("div",{className:"mx-[60px]"},r.a.createElement("table",{className:"table-fixed border-collapse border border-slate-400"},r.a.createElement("thead",{className:"capitalize"},r.a.createElement("tr",{className:"border border-slate-300  bg-slate-100"},Object.keys(m[0]).map((function(e){return r.a.createElement("th",{className:"px-1",key:e},e)})))),r.a.createElement("tbody",null,m.map((function(e){return r.a.createElement("tr",{className:"border border-slate-300",key:JSON.stringify(e)},Object.entries(e).map((function(e){return r.a.createElement("td",{className:"px-1",key:e[0]},e[1])})))}))))))},S={Simple:n.createElement(m,null),"Widget (Encoding)":n.createElement(b,null),"Widget (Navigation)":n.createElement(E,null),"Mouse Events":n.createElement(x,null),"Vega-Lite":n.createElement(f,null)};var w=function(){return n.createElement("div",{className:"flex flex-row h-full w-full"},n.createElement("div",{className:"flex-none border-r-[1px]"},n.createElement("div",{className:"font-bold font-lg m-3"},"Examples"),n.createElement("ol",{className:"list-decimal list-inside divide-y divide-solid"},Object.entries(S).map((function(e){return n.createElement("li",{className:"p-3",key:e[0]},n.createElement(o.b,{className:"hover:underline",to:"/".concat(e[0].replace(" ","_"))},e[0]))})))),n.createElement("div",{className:""},n.createElement(c.c,null,n.createElement(c.a,{path:"/",element:S.Simple}),Object.entries(S).map((function(e){return n.createElement(c.a,{key:e[0],path:"/".concat(e[0].replace(" ","_")),element:e[1]})})))))};a(210);l.a.render(r.a.createElement(o.a,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[211,1,3]]]);
//# sourceMappingURL=main.e6017666.chunk.js.map